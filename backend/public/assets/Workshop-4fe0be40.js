import{d as A,b as l,m,n as a,D as k,G as R,H as D,I as F,k as Q,r as C,a as _,F as B,B as T,c as S,e,w as t,f as y,g as q,J as P,q as N,K as te,L as ae,t as W,p as G,M as H,v as K,x as X,u as se,l as oe,y as le,o as ne,N as re,z as ie,A as Y,O as de}from"./index-9ca6b9fc.js";import"./DayJs-c6e502d2.js";import{f as ue}from"./index-927ea27d.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";const ce={class:"w-64 bg-white dark:bg-zinc-800 max-w-xs rounded-md overflow-hidden shadow-lg hover:shadow-xl dark:shadow-zinc-600 transition duration-300 transform hover:scale-x-110 cursor-pointer"},me={class:"mr-0 text-white text-lg pl-5"},_e={key:0,class:"flex justify-between px-5 pt-4 text-sm text-gray-600 dark:text-gray-300"},pe={class:"py-4 text-3xl ml-5"},O=A({__name:"StatsCard",props:["title","value","subtitle","headerColorClass"],setup(x){const s=x;return(b,v)=>(l(),m("div",ce,[a("div",{class:R(["h-16 flex items-center justify-between",s.headerColorClass||"bg-blue-400 dark:bg-blue-700"])},[a("p",me,k(s.title),1)],2),s.subtitle?(l(),m("div",_e,[a("p",null,k(s.subtitle),1)])):D("",!0),a("p",pe,k(s.value),1)]))}}),ge={key:0,class:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300"},fe={key:1,class:"bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-gray-900 dark:text-gray-300"},ye={key:2,class:"bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300"},ve={key:3,class:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300"},be={key:4,class:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-yellow-900 dark:text-yellow-300"},ke={key:5,class:"bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-orange-900 dark:text-orange-300"},xe={key:6,class:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-indigo-900 dark:text-indigo-300"},he={key:7,class:"bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-purple-900 dark:text-purple-300"},we={key:8,class:"bg-pink-100 text-pink-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-pink-900 dark:text-pink-300"},L=A({__name:"Badge",props:{color:{}},setup(x){return(s,b)=>s.color==="blue"?(l(),m("span",ge,[F(s.$slots,"default")])):s.color==="gray"?(l(),m("span",fe,[F(s.$slots,"default")])):s.color==="red"?(l(),m("span",ye,[F(s.$slots,"default")])):s.color==="green"?(l(),m("span",ve,[F(s.$slots,"default")])):s.color==="yellow"?(l(),m("span",be,[F(s.$slots,"default")])):s.color==="orange"?(l(),m("span",ke,[F(s.$slots,"default")])):s.color==="indigo"?(l(),m("span",xe,[F(s.$slots,"default")])):s.color==="purple"?(l(),m("span",he,[F(s.$slots,"default")])):s.color==="pink"?(l(),m("span",we,[F(s.$slots,"default")])):D("",!0)}}),$e={class:"flow-root"},Ce={role:"list",class:"divide-y divide-gray-200 dark:divide-gray-700"},Ve={class:"p-3 sm:py-4 hover:bg-blue-200 dark:hover:bg-zinc-800 transition rounded-r-xl"},Se={class:"flex items-center space-x-4"},ze={class:"min-w-0 pr-4 border-r border-zink-800 dark:border-slate-300"},qe={class:"text-sm font-bold text-gray-900 truncate dark:text-white"},Me={class:"text-sm text-gray-500 truncate dark:text-gray-400"},De={class:"flex text-sm text-gray-500 dark:text-gray-400 gap-2"},Ne=["title"],Ie={class:"font-bold text-gray-900 dark:text-white"},Be={class:"flex-1 min-w-0"},Ue=a("div",{class:"text-sm font-bold text-gray-900 truncate dark:text-white"}," Characteristics: ",-1),Fe={class:"text-sm text-gray-500 truncate dark:text-gray-400"},Ae={class:"text-sm text-gray-500 truncate dark:text-gray-400"},Ee={class:"flex gap-1 text-sm text-gray-500 truncate dark:text-gray-400"},Te={key:0},je={key:0},Pe={class:"flex flex-col gap-2 items-end text-base font-semibold text-gray-900 dark:text-white"},Le={key:0},Ye={class:"text-lg"},J=A({__name:"Nettings",props:{productions:{type:Array,required:!0}},setup(x){const s=x,b=Q(),v=C(!1),o=C(!1),w=C(!1),n=C(),g=c=>{const u=P(c.due_date).diff(Date.now(),"days");return u<=3&&u>=0&&!c.completed},f=c=>P(c.due_date).diff(Date.now(),"days")<0&&!c.completed,i=c=>b.user.id===c.chief.id,$=c=>c.users.map(u=>u.id).includes(b.user.id),M=c=>i(c)||$(c)||c.completed,h=async({id:c})=>{v.value=!0,await N(async u=>{await u.post(`/productions/${c}/users`)},{successCb:u=>{u.success({message:"And now, go knit a net!"})}}),v.value=!1},d=async()=>{o.value=!0,await N(async c=>{var u;await c.patch(`/productions/${(u=n.value)==null?void 0:u.id}`,{completed:!0})},{successCb:c=>{c.success({message:"Fine job for AFU!"})}}),n.value&&(n.value.completed=!0),o.value=!1},V=c=>{n.value=c,w.value=!0};return(c,u)=>{const U=_("router-link"),I=_("font-awesome-icon"),z=_("el-button"),j=_("el-dialog"),E=_("el-empty");return l(),m(B,null,[(l(!0),m(B,null,T(s.productions,r=>(l(),m("div",{key:r.id,class:R(["border-l-4 mb-4",{"border-green-500":r.completed,"border-orange-500":g(r),"border-red-500":f(r),"border-blue-500":!r.completed&&!g(r)&&!f(r)}])},[a("div",$e,[a("ul",Ce,[a("li",Ve,[a("div",Se,[a("div",ze,[a("div",qe,[e(U,{to:{name:"guide",params:{slug:r.netting.type.slug}}},{default:t(()=>[y(k(r.netting.type.name),1)]),_:2},1032,["to"]),y(" using "+k(r.material.name),1)]),a("div",Me,[y(" Chief: "),e(U,{to:{name:"user",params:{username:r.chief.username}}},{default:t(()=>[y(k(r.chief.username),1)]),_:2},1032,["to"])]),a("div",De,[y(" Status: "),r.completed?(l(),S(L,{key:1,color:"green"},{default:t(()=>[y("Done")]),_:1})):(l(),S(L,{key:0,color:"blue"},{default:t(()=>[y("In progress")]),_:1})),f(r)?(l(),S(L,{key:2,color:"red"},{default:t(()=>[y("Past due "+k(q(P)(r.due_date).fromNow()),1)]),_:2},1024)):g(r)?(l(),S(L,{key:3,color:"orange"},{default:t(()=>[y("Urgent "),e(I,{class:"ml-1",icon:q(ue)},null,8,["icon"])]),_:1})):D("",!0)]),a("div",{class:"flex text-sm text-gray-500 dark:text-gray-400 gap-2",title:q(P)(r.due_date).fromNow()},[y(" Due: "),a("p",Ie,k(q(P)(r.due_date).format("MMMM D, YYYY")),1)],8,Ne)]),a("div",Be,[Ue,a("div",Fe," Color: "+k(r.netting.color),1),a("div",Ae," Size: "+k(r.netting.size),1),a("div",Ee,[y(" Participants: "),(l(!0),m(B,null,T(r.users,(p,ee)=>(l(),S(U,{key:p.id,to:{name:"user",params:{username:p.username}},class:"flex"},{default:t(()=>[ee>0?(l(),m("div",Te,",")):D("",!0),y(" "+k(p.username),1)]),_:2},1032,["to"]))),128)),r.users.length===0?(l(),m("div",je,"---")):D("",!0)])]),a("div",Pe,[a("div",null,[e(z,{type:"success",onClick:p=>h(r),loading:v.value,disabled:M(r)},{default:t(()=>[y("Join")]),_:2},1032,["onClick","loading","disabled"])]),i(r)?(l(),m("div",Le,[e(z,{type:"primary",onClick:p=>V(r),disabled:r.completed},{default:t(()=>[y("Complete")]),_:2},1032,["onClick","disabled"]),e(j,{modelValue:w.value,"onUpdate:modelValue":u[2]||(u[2]=p=>w.value=p),title:"Are you sure?",width:"30%"},{footer:t(()=>[e(z,{onClick:u[0]||(u[0]=p=>w.value=!1)},{default:t(()=>[y("Cancel")]),_:1}),e(z,{type:"primary",onClick:u[1]||(u[1]=p=>d())},{default:t(()=>[y(" Confirm ")]),_:1})]),default:t(()=>[a("span",Ye,"Is the netting of type "+k(r.netting.type.name)+", color "+k(r.netting.color)+" and size "+k(r.netting.size)+" done?",1)]),_:2},1032,["modelValue"])])):D("",!0)])])])])])],2))),128)),s.productions.length===0?(l(),S(E,{key:0,class:"text-center font-bold",description:"No data"})):D("",!0)],64)}}}),Oe={class:"flow-root"},Re={role:"list",class:"divide-y divide-gray-200 dark:divide-gray-700"},We={class:"flex items-center space-x-4"},Je={class:"flex-1 min-w-0"},Qe={class:"text-sm font-medium text-gray-900 truncate dark:text-white"},Ge={class:"text-sm text-gray-500 truncate dark:text-gray-400"},He={class:"flex flex-row items-center text-base font-semibold text-gray-900 dark:text-white"},Ke=A({__name:"Materials",props:{materials:{type:Array,required:!0},onMaterialChange:Function},setup(x){const s=x,b=C(!1),v=C(!1),o=async n=>{b.value=!0,await N(async g=>{await g.patch(`/materials/${n.id}`,{quantity:n.quantity+1})},{userErrorCb:g=>{g.error({message:"Something went wrong"})}}),s.onMaterialChange&&s.onMaterialChange(),b.value=!1},w=async n=>{if(v.value=!0,n.quantity===0){v.value=!1;return}await N(async g=>{await g.patch(`/materials/${n.id}`,{quantity:n.quantity-1})},{userErrorCb:g=>{g.error({message:"Something went wrong"})}}),s.onMaterialChange&&s.onMaterialChange(),v.value=!1};return(n,g)=>{const f=_("el-icon"),i=_("el-button");return l(!0),m(B,null,T(s.materials,$=>(l(),m("div",{key:$.id,class:"border-b border-neutral-500"},[a("div",Oe,[a("ul",Re,[a("li",{class:R(["p-3 sm:py-4 hover:bg-slate-300 dark:hover:bg-zinc-800 transition rounded-t-lg",{"bg-red-200 dark:bg-red-950":$.quantity<4}])},[a("div",We,[a("div",Je,[a("div",Qe,k($.name),1),a("p",Ge," Quantity: "+k($.quantity)+" "+k($.quantity===1?"unit":"units"),1)]),a("div",He,[e(i,{color:"#4a934a",onClick:M=>o($),loading:b.value},{default:t(()=>[e(f,null,{default:t(()=>[e(q(te))]),_:1})]),_:2},1032,["onClick","loading"]),e(i,{color:"#236fba",onClick:M=>w($),loading:v.value},{default:t(()=>[e(f,null,{default:t(()=>[e(q(ae))]),_:1})]),_:2},1032,["onClick","loading"])])])],2)])])]))),128)}}}),Xe={class:"flow-root"},Ze={role:"list",class:"divide-y divide-gray-200 dark:divide-gray-700"},et={class:"p-3 sm:py-4 hover:bg-slate-300 dark:hover:bg-zinc-800 transition rounded-t-lg"},tt={class:"flex items-center space-x-4"},at={class:"flex-shrink-0"},st=["alt"],ot={class:"flex-1 min-w-0"},lt={class:"text-sm font-medium text-gray-900 truncate dark:text-white"},nt={key:0,class:"ml-2 bg-green-100 text-green-800 text-xs font-medium mr-2 px-2 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300"},rt={key:1,class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2 py-0.5 rounded-full dark:bg-blue-900 dark:text-blue-300"},it={class:"text-sm text-gray-500 truncate dark:text-gray-400"},dt=["href"],ut={class:"flex flex-col items-center text-base font-semibold text-gray-900 dark:text-white"},ct=a("div",null,null,-1),mt=A({__name:"Users",props:{users:{},manager:{type:Boolean,default:!1},onSubmit:{}},setup(x){const s=x,b=Q(),v=C(!1),o=async w=>{v.value=!0,console.log(w.pivot),await N(async n=>{await n.patch(`/users/workshops/${w.pivot.id}`,{is_manager:!0})},{successCb:n=>{n.success({message:`Promoted ${w.username} to a manager!`})},userErrorCb:n=>{n.error({message:"Something went wrong"})}}),s.onSubmit&&s.onSubmit(),v.value=!1};return(w,n)=>{const g=_("router-link"),f=_("el-button");return l(!0),m(B,null,T(s.users,i=>(l(),m("div",{key:i.id,class:"border-b border-neutral-500"},[a("div",Xe,[a("ul",Ze,[a("li",et,[a("div",tt,[a("div",at,[a("img",{class:"w-8 h-8 rounded-full",src:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png?20150327203541",alt:`${i.username} image`},null,8,st)]),a("div",ot,[a("div",lt,[e(g,{to:{name:"user",params:{username:i.username}}},{default:t(()=>[y(k(i.username),1)]),_:2},1032,["to"]),i.id==q(b).user.id?(l(),m("span",nt," You ")):D("",!0),i.pivot.is_manager?(l(),m("span",rt," Manager ")):D("",!0)]),a("p",it,[a("a",{href:`mailto:${i.email}`},k(i.email),9,dt)])]),a("div",ut,[a("div",null,[!i.pivot.is_manager&&s.manager?(l(),S(f,{key:0,type:"primary",plain:"",dark:q(W),onClick:$=>o(i)},{default:t(()=>[y(" Make a manager ")]),_:2},1032,["dark","onClick"])):D("",!0)]),ct])])])])])]))),128)}}}),_t=x=>(K("data-v-7636648e"),x=x(),X(),x),pt=_t(()=>a("p",{class:"note"},"note",-1)),gt=A({__name:"CreateNettingButton",props:{workshopId:{type:Number,required:!0},onSubmit:Function},setup(x){const s=x,b=C(!1),v=C(!1),o=C([]),w=C([]),n=G({size:"",color:"",type_id:0,material_id:0,due_date:""}),g=C(),f=async()=>{if(v.value=!0,!await g.value.validate()){v.value=!1;return}await N(async h=>{const d=(await h.post("/nettings",{type_id:n.type_id,size:n.size,color:n.color})).data.id;await h.post("/productions",{material_id:n.material_id,netting_id:d,workshop_id:s.workshopId,due_date:n.due_date})},{successCb:h=>{h.success({message:"The netting has begun!"})},userErrorCb:h=>{h.error({message:"Check the data and try again"})}}),v.value=!1,s.onSubmit&&await s.onSubmit(),$()},i=async()=>{o.value=await N(async h=>(await h.get("nettings/types")).data),w.value=await N(async h=>(await h.get(`workshops/${s.workshopId}/materials`)).data),b.value=!0},$=async()=>{b.value=!1,g.value.resetFields()},M={size:[{required:!0,message:"Size is required",trigger:"blur"}],color:[{required:!0,message:"Color is required",trigger:"blur"}],due_date:[{required:!0,message:"End date is required",trigger:"blur"}]};return(h,d)=>{const V=_("el-icon"),c=_("el-button"),u=_("el-option"),U=_("el-select"),I=_("el-form-item"),z=_("el-input"),j=_("el-date-picker"),E=_("el-form"),r=_("el-dialog");return l(),m(B,null,[e(c,{onClick:i,plain:"",type:"success",color:"#4a934a",dark:q(W)},{default:t(()=>[y(" Make a new netting "),e(V,{class:"ml-2",size:"18"},{default:t(()=>[e(q(H))]),_:1})]),_:1},8,["dark"]),e(r,{modelValue:b.value,"onUpdate:modelValue":d[5]||(d[5]=p=>b.value=p),title:"New netting"},{footer:t(()=>[e(c,{type:"danger",onClick:$},{default:t(()=>[y("Cancel")]),_:1}),e(c,{loading:v.value,type:"primary",onClick:f},{default:t(()=>[y(" Confirm ")]),_:1},8,["loading"])]),default:t(()=>[e(E,{"label-position":"top",model:n,rules:M,ref_key:"form",ref:g},{default:t(()=>[e(I,{label:"Type"},{default:t(()=>[e(U,{modelValue:n.type_id,"onUpdate:modelValue":d[0]||(d[0]=p=>n.type_id=p),autocomplete:"off","default-first-option":""},{default:t(()=>[(l(!0),m(B,null,T(o.value,p=>(l(),S(u,{key:p.id,label:p.name,value:p.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(I,{label:"Size",prop:"size"},{default:t(()=>[e(z,{modelValue:n.size,"onUpdate:modelValue":d[1]||(d[1]=p=>n.size=p)},null,8,["modelValue"])]),_:1}),e(I,{label:"Color",prop:"color"},{default:t(()=>[e(z,{modelValue:n.color,"onUpdate:modelValue":d[2]||(d[2]=p=>n.color=p)},null,8,["modelValue"])]),_:1}),e(I,{label:"Material"},{default:t(()=>[e(U,{modelValue:n.material_id,"onUpdate:modelValue":d[3]||(d[3]=p=>n.material_id=p),autocomplete:"off","default-first-option":""},{default:t(()=>[(l(!0),m(B,null,T(w.value,p=>(l(),S(u,{key:p.id,label:p.name,value:p.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(I,{label:"Due",prop:"due_date"},{default:t(()=>[e(j,{type:"datetime",modelValue:n.due_date,"onUpdate:modelValue":d[4]||(d[4]=p=>n.due_date=p)},null,8,["modelValue"])]),_:1}),pt]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});const ft=Z(gt,[["__scopeId","data-v-7636648e"]]),yt=x=>(K("data-v-77a9dac6"),x=x(),X(),x),vt=yt(()=>a("p",{class:"note"},"You may use this material while creating your nettings",-1)),bt=A({__name:"CreateMaterialButton",props:{workshopId:{type:Number,required:!0},onSubmit:Function},setup(x){const s=x,b=C(!1),v=C(!1),o=G({name:"",description:"",quantity:0}),w=C(),n=async()=>{if(v.value=!0,!await w.value.validate()){v.value=!1;return}await N(async f=>{await f.post("/materials",{...o,workshop_id:s.workshopId})},{successCb:f=>{f.success({message:"The material was added!"})},userErrorCb:f=>{f.error({message:"Check the data and try again"})}}),v.value=!1,s.onSubmit&&s.onSubmit(),b.value=!1},g={name:[{required:!0,message:"Material name is required",trigger:"blur"}],quantity:[{validator:(f,i,$)=>parseInt(i)<0?$(new Error("Quantity must be above 0")):$()}]};return(f,i)=>{const $=_("el-icon"),M=_("el-button"),h=_("el-input"),d=_("el-form-item"),V=_("el-form"),c=_("el-dialog");return l(),m(B,null,[e(M,{onClick:i[0]||(i[0]=u=>b.value=!0),plain:"",type:"success",color:"#4a934a",dark:q(W)},{default:t(()=>[y(" Add a new netting material "),e($,{class:"ml-2",size:"18"},{default:t(()=>[e(q(H))]),_:1})]),_:1},8,["dark"]),e(c,{modelValue:b.value,"onUpdate:modelValue":i[5]||(i[5]=u=>b.value=u),title:"Apply for a new workshop"},{footer:t(()=>[e(M,{type:"danger",onClick:i[4]||(i[4]=u=>b.value=!1)},{default:t(()=>[y("Cancel")]),_:1}),e(M,{loading:v.value,type:"primary",onClick:n},{default:t(()=>[y(" Confirm ")]),_:1},8,["loading"])]),default:t(()=>[e(V,{"label-position":"top",model:o,rules:g,ref_key:"form",ref:w},{default:t(()=>[e(d,{label:"Name",prop:"name"},{default:t(()=>[e(h,{modelValue:o.name,"onUpdate:modelValue":i[1]||(i[1]=u=>o.name=u),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(d,{label:"Description",prop:"description"},{default:t(()=>[e(h,{type:"textarea",maxlength:"500","show-word-limit":"",modelValue:o.description,"onUpdate:modelValue":i[2]||(i[2]=u=>o.description=u)},null,8,["modelValue"])]),_:1}),e(d,{label:"Quantity",prop:"quantity"},{default:t(()=>[e(h,{type:"number",modelValue:o.quantity,"onUpdate:modelValue":i[3]||(i[3]=u=>o.quantity=u)},null,8,["modelValue"])]),_:1}),vt]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});const kt=Z(bt,[["__scopeId","data-v-77a9dac6"]]),xt=a("div",null,null,-1),ht={key:1,class:"h-max"},wt={class:"mb-6"},$t={class:"text-5xl font-bold text-blue-800 dark:text-white"},Ct={class:"text-slate-800 dark:text-slate-400"},Vt=["href"],St={class:"py-4 border-y border-neutral-400 max-h-40 overflow-y-auto"},zt={class:"my-4"},qt={class:"container flex flex-col lg:flex-row items-start justify-around mx-auto px-4 pb-20 pt-4 w-3/4"},Bt=A({__name:"Workshop",setup(x){const s=se(),b=oe(),v=C(""),o=C({}),w=le(()=>!!s.params.slug),n=C(!1),g=C(!1),f=async()=>{if(n.value=!0,!w.value)return n.value=!1,!1;await N(async d=>{const{data:V}=await d.get(`/workshops/${s.params.slug}`);o.value=V},{userErrorCb:()=>b.push({name:"workshops"})}),n.value=!1},i=async()=>{g.value=!0,await N(async d=>{await d.post(`/users/workshops/${o.value.id}`)},{successCb:d=>{d.success({message:`Joined ${o.value.name}!`}),o.value.is_user_member=!0}}),f(),g.value=!1},$=async()=>{g.value=!0,await N(async d=>{await d.delete(`/users/workshops/${o.value.id}`)},{successCb:d=>{d.success({message:`Left ${o.value.name}!`}),o.value.is_user_member=!1}}),f(),g.value=!1},M=()=>o.value.users.filter(({pivot:d})=>d.is_manager).length===1&&o.value.is_user_manager,h=d=>{v.value=d};return ne(async()=>{s.params.slug&&await f()}),re(()=>s.params,async()=>{await f()}),(d,V)=>{const c=_("el-empty"),u=_("el-icon"),U=_("el-button"),I=_("el-form-item"),z=_("el-tab-pane"),j=_("el-tabs"),E=ie("loading");return l(),m(B,null,[xt,!w.value||!o.value?(l(),S(c,{key:0,description:"Select a workshop"})):Y((l(),m("div",ht,[a("div",wt,[a("p",$t,k(o.value.name),1),a("p",Ct,[a("a",{href:`http://maps.google.com/?q=${o.value.address}`,target:"_blank"},[e(u,{class:"mr-1"},{default:t(()=>[e(q(de))]),_:1}),y(k(o.value.address),1)],8,Vt)])]),e(I,null,{default:t(()=>[o.value.is_user_member?Y((l(),S(U,{key:0,disabled:M(),title:M()?"You are the only manager":"",type:"danger",onClick:$},{default:t(()=>[y(" Leave ")]),_:1},8,["disabled","title"])),[[E,g.value]]):Y((l(),S(U,{key:1,type:"primary",onClick:i},{default:t(()=>[y("Become a member")]),_:1})),[[E,g.value]])]),_:1}),a("div",St,k(o.value.description),1),a("div",zt,[e(j,{modelValue:v.value,"onUpdate:modelValue":V[3]||(V[3]=r=>v.value=r)},{default:t(()=>[e(z,{lazy:"",label:"Summary",name:"summary"},{default:t(()=>[a("div",qt,[e(O,{onClick:V[0]||(V[0]=r=>h("users")),title:"Participants",subtitle:"TOTAL",value:o.value.users.length||0},null,8,["value"]),e(O,{onClick:V[1]||(V[1]=r=>h("nettings")),title:"Nettings",subtitle:"TOTAL",value:o.value.productions.length||0},null,8,["value"]),e(O,{onClick:V[2]||(V[2]=r=>h("tasks")),title:"Nettings",subtitle:"In progress",value:o.value.productions.filter(r=>!r.completed).length||0},null,8,["value"])])]),_:1}),e(z,{lazy:"",label:"Nettings",name:"nettings"},{default:t(()=>[o.value.is_user_manager?(l(),S(I,{key:0},{default:t(()=>[e(ft,{"on-submit":f,workshopId:o.value.id},null,8,["workshopId"])]),_:1})):D("",!0),e(J,{productions:o.value.productions},null,8,["productions"])]),_:1}),e(z,{lazy:"",label:"Tasks",name:"tasks"},{default:t(()=>[e(J,{productions:o.value.productions.filter(r=>!r.completed)},null,8,["productions"])]),_:1}),o.value.is_user_manager?(l(),S(z,{key:0,lazy:"",label:"Materials",name:"materials"},{default:t(()=>[e(I,null,{default:t(()=>[e(kt,{"on-submit":f,"workshop-id":o.value.id},null,8,["workshop-id"])]),_:1}),e(Ke,{materials:o.value.materials,"on-material-change":f},null,8,["materials"])]),_:1})):D("",!0),e(z,{lazy:"",label:"Users",name:"users"},{default:t(()=>[e(mt,{users:o.value.users,manager:o.value.is_user_manager,"on-submit":f},null,8,["users","manager"])]),_:1})]),_:1},8,["modelValue"])])])),[[E,n.value]])],64)}}});export{Bt as default};
