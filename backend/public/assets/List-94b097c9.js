import{d as C,k as N,r as d,o as B,a as m,b as n,m as r,n as t,D as a,e as o,w as l,F as _,B as x,H as f,q as D,g as y,J as k}from"./index-9ca6b9fc.js";import"./DayJs-c6e502d2.js";const S={class:"my-2 ml-4 text-xl text-gray-600 dark:text-neutral-100 font-bold"},j=t("h2",{class:"my-2 mb-2 ml-4 text-lg text-gray-600 dark:text-neutral-100 font-bold"},"You are managing:",-1),V={class:"w-full pb-2"},z={class:"flex justify-between"},E={class:"block ml-2 font-semibold text-gray-800 dark:text-neutral-200"},F={class:"block ml-2 text-sm font-thin text-gray-600 dark:text-neutral-400"},L={class:"block ml-2 text-sm text-gray-500 dark:text-gray-400 truncate"},M={key:0,class:"text-center"},P=t("h2",{class:"my-2 mb-2 ml-4 text-lg text-gray-600 dark:text-neutral-100 font-bold"},"You are contributing:",-1),T={class:"w-full pb-2"},W={class:"flex justify-between"},Y={class:"block ml-2 font-semibold text-gray-800 dark:text-neutral-200"},q={class:"block ml-2 text-sm font-thin text-gray-600 dark:text-neutral-400"},H={class:"block ml-2 text-sm text-gray-500 dark:text-gray-400 truncate"},J={key:0,class:"text-center"},I=C({__name:"List",setup(U){const b=N(),i=d([]),c=d([]),p=d(!1),v=async()=>{p.value=!0;const u=await D(async s=>(await s.get("/users/productions?completed=false")).data,{serverErrorCb:s=>{s.error({message:"Server error, please try again later!"})}});i.value=u.filter(s=>s.chief.id===b.user.id),c.value=u.filter(s=>s.chief.id!==b.user.id),p.value=!1};return B(()=>{v()}),(u,s)=>{const g=m("router-link"),h=m("el-tab-pane"),w=m("el-tabs");return n(),r(_,null,[t("h2",S,"Tasks ("+a([...i.value,...c.value].length)+")",1),o(w,{stretch:""},{default:l(()=>[o(h,{label:"Manager",name:"manager"},{default:l(()=>[t("ul",null,[j,(n(!0),r(_,null,x(i.value,e=>(n(),r("li",{key:e.id},[o(g,{to:{name:"tasks",params:{id:e.id}},class:"flex items-center px-3 py-2 text-sm transition duration-150 ease-in-out border-b dark:border-neutral-600 cursor-pointer hover:bg-blue-200 dark:hover:bg-zinc-800 focus:outline-none"},{default:l(()=>[t("div",V,[t("div",z,[t("span",E,a(e.netting.type.name)+" using "+a(e.material.name)+" in "+a(e.workshop.name),1),t("span",F," Due "+a(y(k)(e.due_date).fromNow()),1)]),t("span",L,"Participants: "+a(e.users.length+1),1)])]),_:2},1032,["to"])]))),128)),i.value.length===0?(n(),r("li",M,"None")):f("",!0)])]),_:1}),o(h,{label:"Contributor",name:"contributor"},{default:l(()=>[t("ul",null,[P,(n(!0),r(_,null,x(c.value,e=>(n(),r("li",{key:e.id},[o(g,{to:{name:"tasks",params:{id:e.id}},class:"flex items-center px-3 py-2 text-sm transition duration-150 ease-in-out border-b dark:border-neutral-600 cursor-pointer hover:bg-blue-200 dark:hover:bg-zinc-800 focus:outline-none"},{default:l(()=>[t("div",T,[t("div",W,[t("span",Y,a(e.netting.type.name)+" using "+a(e.material.name)+" in "+a(e.workshop.name),1),t("span",q," Due "+a(y(k)(e.due_date).fromNow()),1)]),t("span",H,"Participants: "+a(e.users.length+1),1)])]),_:2},1032,["to"])]))),128)),c.value.length===0?(n(),r("li",J,"None")):f("",!0)])]),_:1})]),_:1})],64)}}});export{I as default};
